
{% extends 'template_layout.html' %}

{%block nav %}

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
        <li class="nav-item">
        <a class="nav-link" href="{{url_for("index")}}">Home </a>
        </li>
        <li class="nav-item">
        <a class="nav-link" href="{{url_for("login")}}">User Login</a>
        </li>
        <li class="nav-item">
        <a class="nav-link" href="{{url_for("create_account")}}">Create New Account</a>
        </li>
    </ul>
</div>

{% endblock %}

{%block content%}

<h1> Recipes </h1>

<table class='table table-bordered'>
    <thead class='thead-light'>
        <tr>
            <th>Index</th>
            <th>Recipe Name</th>
            <th>Cuisine</th>
            <th>Contributor</th>
            <th>Contributor's Country</th>
            <th>Date Posted</th>
            <th>Likes</th>
        </tr>
    </thead>
        {% for r in get_recipes %}
        
        1st {{r.user_id|string()}}
        <tr>
            <td>{{loop.index}}</td>
            <td> <a href= '{{url_for('recipe_display' , recipe_id=r._id)}}'>{{r.recipe_name}}</a> </td>
            <td> {{r.cuisine}}</td>
            {%for i in get_users %}
                2nd {{i._id|string()}}
                {%if i._id|string() == r.user_id|string() %}
                welcome
                    <td> {{i.user_name}} </td>
                    <td> {{i.country}}</td>
                {%endif%}
            {%endfor%}

            <td> {{r.date_posted}} </td>
            <td> </td>
        </tr>
        {%endfor%}
</table>

{%endblock%}